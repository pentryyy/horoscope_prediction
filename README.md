# AuthController

Доступно для вех пользовтелей.

## Эндпоинты

### Регистрация пользователя

**URL**: `/auth/sign-up`  
**Описание**: Регистрирует нового пользователя.  
**Входные данные**: Содержит данные, необходимые для регистрации (username, email, password, gender и birthDate).  
**Возвращаемое значение**: Возвращает объект `JwtAuthenticationResponse`, содержащий JWT-токен, необходимый для дальнейшей авторизации. 

### Авторизация пользователя

**URL**: `/auth/sign-in`  
**Описание**: Выполняет авторизацию пользователя.  
**Входные данные**: Содержит данные для авторизации (username и password).  
**Возвращаемое значение**: Возвращает объект `JwtAuthenticationResponse`, содержащий JWT-токен для авторизованного доступа к защищенным ресурсам.

## Пример использования

### Регистрация

![Регистрация](https://github.com/pentryyy/horoscope_prediction/blob/main/images/sign-up.png)

### Авторизация 

![Авторизация](https://github.com/pentryyy/horoscope_prediction/blob/main/images/sign-in.png)

# UserController

Доступно толоько для роли ADMIN.

## Эндпоинты

### Получение всех пользователей

**URL**: `/users/get-all-users`  
**Описание**: Возвращает список всех пользователей с поддержкой пагинации, сортировки и указания порядка сортировки.  

#### Параметры запроса:
- `page` (optional, default: 0) — номер страницы для пагинации.
- `limit` (optional, default: 10) — количество элементов на странице.
- `sortBy` (optional, default: "id") — поле для сортировки.
- `sortOrder` (optional, default: "ASC") — порядок сортировки (ASC/DESC).

### Получение данных пользователя по ID

**URL**: `/users/get-user/{id}`  
**Описание**: Возвращает данные пользователя по его уникальному идентификатору.  

### Изменение роли пользователя

**URL**: `/users/change-role/{id}`  
**Описание**: Изменяет роль пользователя по его уникальному идентификатору и данных, переданных в теле запроса.  

### Деактивация пользователя

**URL**: `/users/disable-user/{id}`  
**Описание**: Деактивирует пользователя, запрещая ему доступ к системе.  

### Активация пользователя

**URL**: `/users/enable-user/{id}`  
**Описание**: Активирует ранее отключенного пользователя, разрешая ему доступ к системе.  

### Обновление данных пользователя

**URL**: `/users/update/{id}`  
**Описание**: Обновляет данные пользователя по его уникальному идентификатору.  

### Смена пароля пользователя

**URL**: `/users/change-pass/{id}`  
**Описание**: Обновляет пароль пользователя, зашифровывая его перед сохранением.  

# RoleController

Доступно только для роли ADMIN.

## Эндпоинты

### Получение всех ролей

**URL**: `/roles/get-all-roles`  
**Описание**: Возвращает список всех ролей с поддержкой пагинации, сортировки и указания порядка сортировки.

#### Параметры запроса:
- `page` (optional, default: 0) — номер страницы для пагинации.
- `limit` (optional, default: 10) — количество элементов на странице.
- `sortBy` (optional, default: "id") — поле для сортировки.
- `sortOrder` (optional, default: "ASC") — порядок сортировки (ASC/DESC).

### Получение роли по ID

**URL**: `/roles/get-role/{id}`  
**Описание**: Возвращает роль по её уникальному идентификатору.

### Создание новой роли

**URL**: `/roles/create-role`  
**Описание**: Создает новую роль на основе данных, переданных в теле запроса.

### Обновление данных роли

**URL**: `/roles/update-role/{id}`  
**Описание**: Обновляет данные роли по её уникальному идентификатору и данных, переданных в теле запроса. 

### Удаление роли

**URL**: `/roles/delete-role/{id}`  
**Описание**: Удаляет роль по её уникальному идентификатору.  

# PredictionController

Доступно для роли ADMIN. Для роли USER дотупно `get-all-predictions` и `get-prediction/id`.

## Эндпоинты

### Получение всех предсказаний

**URL**: `/predictions/get-all-predictions`  
**Описание**: Возвращает список всех предсказаний с поддержкой пагинации, сортировки и фильтрации по типу предсказания, знаку зодиака и полу.  

#### Параметры:
- `page` (по умолчанию: 0) — номер страницы.
- `limit` (по умолчанию: 10) — количество предсказаний на странице.
- `sortBy` (по умолчанию: id) — поле для сортировки.
- `sortOrder` (по умолчанию: ASC) — порядок сортировки (ASC/DESC).
- `gender` (необязательно) — фильтрация по полу.
- `zodiac` (необязательно) — фильтрация по знаку зодиака.
- `predictionType` (необязательно) — фильтрация по типу предсказания.

### Получение предсказания по ID

**URL**: `/predictions/get-prediction/{id}`  
**Описание**: Возвращает предсказание по его уникальному идентификатору.  

### Создание нового предсказания

**URL**: `/predictions/create-prediction`  
**Описание**: Создает новое предсказание на основе данных, переданных в теле запроса.  

### Обновление данных предсказания

**URL**: `/predictions/update-prediction/{id}`  
**Описание**: Обновляет данные предсказания по его уникальному идентификатору и данных, переданных в теле запроса. 

### Удаление предсказания

**URL**: `/predictions/delete-prediction/{id}`  
**Описание**: Удаляет предсказание по его уникальному идентификатору.  
